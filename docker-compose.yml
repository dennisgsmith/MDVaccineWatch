version: "3.9"

# Use for local testing
services:

  # Initialize db
  pgadmin:
    container_name: pgadmin4_container
    image: dpage/pgadmin4
    restart: always
    environment:
      PGADMIN_DEFAULT_EMAIL: admin@admin.com
      PGADMIN_DEFAULT_PASSWORD: root
    ports:
      - "5050:80"

  # Build webapp
  web:
    container_name: mdvaccinewatch_webapp_container
    build: .
    environment:
      - PYTHONUNBUFFERED="stout"
      # Below vars need to be exported directly to heroku prod env
      - MB_TOKEN
      - DATABASE_URL
    ports:
      - 8050:8050
